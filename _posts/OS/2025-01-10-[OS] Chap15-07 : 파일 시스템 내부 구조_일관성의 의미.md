---
title: "[OS] Chap15-07 : 파일 시스템 내부 구조_일관성의 의미"
categories:
  - File System
tags:
toc: true
toc_sticky: true
date: 2025-01-10 14:53:00 +0900
---

<strong>운영체제(Operating System Concepts) 를 읽고 정리한 정리본입니다.</strong>
{: .notice}

# 📌 Chap15-07 : 파일 시스템 내부 구조_일관성의 의미

## 🫧 Consistency Semantics (일관성의 의미)

`일관성 의미`는 시스템의 특성 중 하나로 동시에 공유 파일에 접근하는 여러 사용자의 의미를 명시한다.

이는 한 사용자에 의한 데이터의 변경이 다른 사용자에게 어떻게 작용하는지를 나타내며, 파일 시스템의 코드로 구현될 수 있다.

일관성 의미는 6장의 프로세스 동기 알고리즘과 직접적인 연관이 있지만, 이러한 알고리즘은 복잡하고 오버헤드가 크기 때문에 파일 시스템에서는 사용되지 않는다.

대신 파일 시스템은 <strong>파일 세션</strong>으로 그 의미를 대신한다.

## 🫧 파일 세션

세션은 "연결" 상태를 유지할 수 있게 해 준다.

마찬가지로, 파일 또한 "파일 세션"을 통해 연결 상태를 유지하고 관리함으로써 일관성 의미를 구현한다.

UNIX와 Andrew 파일 시스템(OpenAFS)를 예시로 보고자 한다.

### ✨ UNIX
- 한 사용자가 파일에 쓰면 동일 파일을 연 다른 사용자들에게 즉시 반영된다.
- 파일에 대한 현재 위치 포인터를 공유할 수 있어, 한 사용자의 행동이 모든 사용자에게 영향을 미칠 수 있다.

한 파일에 하나의 물리 이미지가 연관되어 있고, 이 이미지는 배타적으로 접근 가능하다.

### ✨ OpenAFS

- 한 사용자가 파일에 쓰면 동일 파일을 연 다른 사용자들에게 즉시 반영되지 않는다.
- 파일이 닫히면, 파일에 대한 변경들은 파일이 닫힌 후 열린 파일에 대해서만 반영된다.

한 파일은 여러 이미지들과 연관되어 있으며, 지연 없이 파일 이미지에 대해 병행적으로 실행 가능하다.

## 🫧 Immutable Shared File (불변 공유 파일)

또는 <strong>불변 공유 파일</strong> 을 통해 파일을 관리할 수 있다.

일단 하나의 파일이 공유된다고 선언되면 더 이상 파일이 변경될 수 없음을 나타낸다.

이는 읽기만 가능하도록 만듦으로써 구현이 가능하다.